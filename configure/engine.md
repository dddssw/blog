---
outline: deep
layout: doc
---
## 工程化
组件化开发,组件库建设,使用vitepres创建组件库文档

代码规范:通过eslint prettier等工具强制统一代码风格

协作规范:制定git分支管理,commit message格式,利用git hooks拦截不规范代码的提交

前后端联调:mock接口

构建与打包

单元测试

CICD

前端监控

根据实际项目解决重复性工作,例如编写脚本,插件

## ast
### ast节点查询优化
优化的本质是减少不必要的AST扫描

* 避免多次遍历，尽量在一次遍历收集全部信息，如果找到了节点，可以提前跳出对其子树的遍历
* 当只需要访问特定节点的数据时，不必使用path.traverse(深度优先)进行遍历,而是手动查找
* 对应嵌套访问器,对于内层的访问器每次都会重新创建.会造成额外的性能开销.我们可以把访问器对象存储在一个变量中，这样就能重复使用它
* 对已解析的文件建立缓存，如果没有修改就没必要重新解析
* 使用swc代替babel解析ast

### ast原理
* 首先进行词法分析，将源代码拆分成最小语法单元token,通过有限状态机生成token序列
* 进行语法分析，根据编程语言的语法规则，将Tokens组合成AST,语法分析器会检验代码是否符合语法规范

### AST与CST的区别
* CST (Concrete Syntax Tree, 具体语法的)

严格遵循源代码的上下文无关文法规则生成

保留所有语法的细节包括括号、分号、空格等冗余符号

所有他是原始文本完整映射
* AST (Abstract SyntaTree,抽象的)

仅保留程序逻辑结构的简化表示

忽略对执行无意义的细节(如括号优先级通过结构隐式表达)

所有他是语义等价的最小表达



